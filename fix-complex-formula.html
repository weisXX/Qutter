<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿®å¤å¤æ‚æ•°å­¦å…¬å¼</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            border-left: 4px solid #4CAF50;
            background: #f9f9f9;
            border-radius: 0 5px 5px 0;
        }
        .problem {
            border-left-color: #f44336;
        }
        .solution {
            border-left-color: #2196F3;
        }
        .example {
            background: white;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin: 15px 0;
        }
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', monospace;
            color: #d32f2f;
        }
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        .formula-display {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            margin: 15px 0;
            font-size: 1.2em;
        }
        .error {
            color: #d32f2f;
            background: #ffebee;
            padding: 10px;
            border-radius: 3px;
            margin: 10px 0;
        }
        .success {
            color: #388e3c;
            background: #e8f5e8;
            padding: 10px;
            border-radius: 3px;
            margin: 10px 0;
        }
        h2 {
            color: #333;
            margin-top: 0;
        }
        h3 {
            color: #555;
        }
    </style>
</head>
<body>
    <h1>å¤æ‚æ•°å­¦å…¬å¼è§£æé—®é¢˜ä¸ä¿®å¤</h1>
    
    <div class="section problem">
        <h2>âŒ åŸå§‹é—®é¢˜</h2>
        <div class="example">
            <h3>ä½ çš„å…¬å¼ï¼š</h3>
            <pre>[\boxed{\mathbf{F}_{12}= -,G,\frac{m_{1}m_{2}}{r^{3}};\mathbf{r}}
\qquad\text{æˆ–}\qquad
|\mathbf{F}_{12}|=G\frac{m_{1}m_{2}}{r^{2}}]</pre>
            
            <div class="error">
                <strong>æ— æ³•è§£æçš„åŸå› ï¼š</strong>
                <ol>
                    <li><code>-,G,</code> - é€—å·å’Œç©ºæ ¼å¯¼è‡´è¯­æ³•é”™è¯¯</li>
                    <li><code>\boxed{}</code> - éœ€è¦ç‰¹æ®Šå®å®šä¹‰</li>
                    <li>åˆ†å· <code>;</code> åœ¨å…¬å¼ä¸­å¯èƒ½è¢«è¯¯è§£</li>
                    <li>å…¬å¼ç»“æ„ä¸æ¸…æ™°</li>
                </ol>
            </div>
        </div>
    </div>
    
    <div class="section solution">
        <h2>âœ… ä¿®å¤æ–¹æ¡ˆ</h2>
        
        <div class="example">
            <h3>æ–¹æ¡ˆ1ï¼šä¿®æ­£å…¬å¼è¯­æ³•ï¼ˆæ¨èï¼‰</h3>
            <pre>\[
\boxed{\mathbf{F}_{12} = -G\frac{m_{1}m_{2}}{r^{3}}\mathbf{r}}
\qquad\text{æˆ–}\qquad
|\mathbf{F}_{12}| = G\frac{m_{1}m_{2}}{r^{2}}
\]</pre>
            
            <div class="formula-display" id="formula1"></div>
            
            <div class="success">
                <strong>ä¿®æ”¹è¯´æ˜ï¼š</strong>
                <ul>
                    <li>å°† <code>-,G,</code> æ”¹ä¸º <code>-G</code>ï¼ˆä¸‡æœ‰å¼•åŠ›å¸¸æ•°ï¼‰</li>
                    <li>ç§»é™¤å¤šä½™çš„åˆ†å· <code>;</code></li>
                    <li>ä½¿ç”¨ <code>\[</code> å’Œ <code>\]</code> åŒ…è£¹å—çº§å…¬å¼</li>
                    <li>æ·»åŠ äº† <code>\boxed</code> å®å®šä¹‰æ”¯æŒ</li>
                </ul>
            </div>
        </div>
        
        <div class="example">
            <h3>æ–¹æ¡ˆ2ï¼šåˆ†å¼€ä¸¤ä¸ªç‹¬ç«‹çš„å…¬å¼</h3>
            <pre>å‘é‡å½¢å¼ï¼š
\[
\boxed{\mathbf{F}_{12} = -G\frac{m_{1}m_{2}}{r^{3}}\mathbf{r}}
\]

æ ‡é‡å½¢å¼ï¼š
\[
|\mathbf{F}_{12}| = G\frac{m_{1}m_{2}}{r^{2}}
\]</pre>
            
            <div class="formula-display" id="formula2"></div>
        </div>
        
        <div class="example">
            <h3>æ–¹æ¡ˆ3ï¼šä½¿ç”¨è¡Œå†…å…¬å¼</h3>
            <pre>ä¸‡æœ‰å¼•åŠ›å®šå¾‹çš„å‘é‡å½¢å¼ä¸º $\boxed{\mathbf{F}_{12} = -G\frac{m_{1}m_{2}}{r^{3}}\mathbf{r}}$ï¼Œ
æ ‡é‡å½¢å¼ä¸º $|\mathbf{F}_{12}| = G\frac{m_{1}m_{2}}{r^{2}}$ã€‚</pre>
            
            <div class="formula-display" id="formula3"></div>
        </div>
    </div>
    
    <div class="section">
        <h2>ğŸ”§ æŠ€æœ¯ä¿®å¤</h2>
        
        <div class="example">
            <h3>åœ¨ EnhancedMarkdownRenderer.vue ä¸­æ·»åŠ çš„é…ç½®ï¼š</h3>
            <pre>md.use(markdownItTexmath, {
  engine: katex,
  delimiters: ['dollars', 'brackets'],
  katexOptions: {
    throwOnError: false,
    errorColor: '#cc0000',
    strict: false,
    // æ·»åŠ å®å®šä¹‰ä»¥æ”¯æŒæ›´å¤š LaTeX å‘½ä»¤
    macros: {
      '\\boxed': '\\fbox{${#1}}',  // æ”¯æŒ \\boxed å‘½ä»¤
      '\\RR': '\\mathbb{R}',       // å¸¸ç”¨å®
      '\\CC': '\\mathbb{C}',
      '\\NN': '\\mathbb{N}',
      '\\ZZ': '\\mathbb{Z}',
      '\\QQ': '\\mathbb{Q}'
    }
  }
})</pre>
        </div>
        
        <div class="example">
            <h3>ä½¿ç”¨å»ºè®®ï¼š</h3>
            <ol>
                <li>ä½¿ç”¨ <code>\[</code> å’Œ <code>\]</code> åŒ…è£¹å—çº§å…¬å¼</li>
                <li>ä½¿ç”¨ <code>$</code> åŒ…è£¹è¡Œå†…å…¬å¼</li>
                <li>é¿å…åœ¨å…¬å¼ä¸­ä½¿ç”¨æ™®é€šæ–‡æœ¬çš„é€—å·ã€åˆ†å·</li>
                <li>å¤æ‚çš„å…¬å¼å¯ä»¥æ‹†åˆ†æˆå¤šä¸ªç®€å•å…¬å¼</li>
                <li>ä½¿ç”¨ <code>\qquad</code> æˆ– <code>\quad</code> æ·»åŠ é—´è·</li>
            </ol>
        </div>
    </div>
    
    <div class="section">
        <h2>ğŸ“ æœ€ç»ˆå¯ç”¨çš„ Markdown ä»£ç </h2>
        
        <div class="example">
            <h3>å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°ä½ çš„ Markdown ä¸­ï¼š</h3>
            <pre>ä¸‡æœ‰å¼•åŠ›å®šå¾‹ï¼š

\[
\boxed{\mathbf{F}_{12} = -G\frac{m_{1}m_{2}}{r^{3}}\mathbf{r}}
\qquad\text{æˆ–}\qquad
|\mathbf{F}_{12}| = G\frac{m_{1}m_{2}}{r^{2}}
\]

å…¶ä¸­ï¼š
- \(\mathbf{F}_{12}\)ï¼šè´¨ç‚¹1å¯¹è´¨ç‚¹2çš„å¼•åŠ›å‘é‡
- \(G\)ï¼šä¸‡æœ‰å¼•åŠ›å¸¸æ•°
- \(m_{1}, m_{2}\)ï¼šä¸¤ä¸ªè´¨ç‚¹çš„è´¨é‡
- \(r\)ï¼šä¸¤è´¨ç‚¹é—´çš„è·ç¦»
- \(\mathbf{r}\)ï¼šä»è´¨ç‚¹1æŒ‡å‘è´¨ç‚¹2çš„å•ä½å‘é‡</pre>
            
            <div class="formula-display" id="final-formula"></div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script>
        // é…ç½® KaTeX
        const katexOptions = {
            displayMode: true,
            throwOnError: false,
            errorColor: '#cc0000',
            strict: false,
            macros: {
                '\\boxed': '\\fbox{${#1}}',
                '\\RR': '\\mathbb{R}',
                '\\CC': '\\mathbb{C}',
                '\\NN': '\\mathbb{N}',
                '\\ZZ': '\\mathbb{Z}',
                '\\QQ': '\\mathbb{Q}'
            }
        };
        
        // æ¸²æŸ“å…¬å¼
        const formulas = [
            {
                id: 'formula1',
                tex: '\\boxed{\\mathbf{F}_{12} = -G\\frac{m_{1}m_{2}}{r^{3}}\\mathbf{r}}\\qquad\\text{æˆ–}\\qquad|\\mathbf{F}_{12}| = G\\frac{m_{1}m_{2}}{r^{2}}',
                displayMode: true
            },
            {
                id: 'formula2',
                tex: '\\boxed{\\mathbf{F}_{12} = -G\\frac{m_{1}m_{2}}{r^{3}}\\mathbf{r}}',
                displayMode: true
            },
            {
                id: 'formula2b',
                container: 'formula2',
                tex: '|\\mathbf{F}_{12}| = G\\frac{m_{1}m_{2}}{r^{2}}',
                displayMode: true,
                append: true
            },
            {
                id: 'formula3',
                tex: '\\boxed{\\mathbf{F}_{12} = -G\\frac{m_{1}m_{2}}{r^{3}}\\mathbf{r}}',
                displayMode: false
            },
            {
                id: 'final-formula',
                tex: '\\boxed{\\mathbf{F}_{12} = -G\\frac{m_{1}m_{2}}{r^{3}}\\mathbf{r}}\\qquad\\text{æˆ–}\\qquad|\\mathbf{F}_{12}| = G\\frac{m_{1}m_{2}}{r^{2}}',
                displayMode: true
            }
        ];
        
        // æ¸²æŸ“æ‰€æœ‰å…¬å¼
        formulas.forEach(formula => {
            try {
                const options = { ...katexOptions, displayMode: formula.displayMode };
                const html = katex.renderToString(formula.tex, options);
                
                if (formula.append && formula.container) {
                    const container = document.getElementById(formula.container);
                    if (container) {
                        container.innerHTML += '<div style="margin-top: 20px;">' + html + '</div>';
                    }
                } else {
                    const element = document.getElementById(formula.id);
                    if (element) {
                        element.innerHTML = html;
                    }
                }
            } catch (error) {
                console.error(`æ¸²æŸ“å…¬å¼ ${formula.id} å¤±è´¥:`, error);
                const element = document.getElementById(formula.id);
                if (element) {
                    element.innerHTML = `<div class="error">æ¸²æŸ“é”™è¯¯: ${error.message}</div>`;
                }
            }
        });
        
        // æ·»åŠ è¡Œå†…å…¬å¼ç¤ºä¾‹
        const inlineFormula = '\\boxed{\\mathbf{F}_{12} = -G\\frac{m_{1}m_{2}}{r^{3}}\\mathbf{r}}';
        const inlineHtml = katex.renderToString(inlineFormula, { ...katexOptions, displayMode: false });
        document.getElementById('formula3').innerHTML = 
            `ä¸‡æœ‰å¼•åŠ›å®šå¾‹çš„å‘é‡å½¢å¼ä¸º ${inlineHtml}ï¼Œæ ‡é‡å½¢å¼ä¸º \(|\\mathbf{F}_{12}| = G\\frac{m_{1}m_{2}}{r^{2}}\)ã€‚`;
    </script>
</body>
</html>